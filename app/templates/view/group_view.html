{% extends "base.html" %}
{% block content %}
<tbody>
  <table>
    <tr>
      <th>ID</th>
      <td>{{ group.id }}</td>
    </tr>
    <tr>
      <th>Name</th>
      <td>{{ group.name }}</td>
    </tr>
    <tr>
      <th>Status</th>
      <td><a href="{{ url_for('product_change_status', table='group', id=group.id) }}">{{ group.status }}</a></td>
    </tr>
    <tr>
      <th>Check</th>
      <td><a href="{{ url_for('change_check',table_name='group', id=group.id) }}">{{ group.check }}</a></td>
    </tr>
    <tr>
      <th>Note</th>
      <td><a href="{{ url_for('add_new_note', table='group', id=group.id) }}">{{ group.note }}</a></td>
    </tr>
    <tr>
      <th rowspan="{{ comments|length + 1 }}"><a href="{{ url_for('add_product_comment', table='group', table2 = 'group_comment', id=group.id) }}">Comments</a</th>
      <th>Comment</th>
      <th>Date</th>
      <th colspan="4">Action</th>
    </tr>
    {% for comment in comments %}
    <tr>
      <td>{{ comment.text }}</td>
      <td>{{ moment(comment.timestamp).format('DD/MM/YYYY HH:MM') }}</td>
      <td colspan="4"><a href="{{ url_for('remove_product_comment', table='group', table2='group', product_id=group.id, comment_id=comment.id) }}">Remove</a></td>
    </tr>
    {% endfor %}
  </table>
  <table>
    <thead>
      <tr>
        <th rowspan="2">
          <copy_button type="copy_button" onClick="copyListToClipboard('{{ sois_names }}')">SOI</copy_button>
        </th>
        <th rowspan="2">SOI status</th>
        <th colspan="{{ components|length }}">
          <copy_button type="copy_button" onClick="copyListToClipboard('{{ components_names }}')">Component</copy_button>
        </th>
      </tr>
      <tr>
        {% for component in components %}
        <th><a href="{{ url_for('component_view', id=component.id) }}">{{ component.name }}</a><br>{{ component.status }}</th>
        {% endfor %}
      </tr>
    </thead>
      {% for soi, usages in soi_usage %}
      <tr>
        <td><a href="{{ url_for('soi_view', id=soi.id) }}">{{ soi.name }}</a></td>
        <td>{{ soi.status }}</td>
        {% for usage in usages %}
        <td>{{ usage }}</td>
        {% endfor %}
      </tr>
      {% endfor %}
  </table>
</tbody>
{% endblock %}
